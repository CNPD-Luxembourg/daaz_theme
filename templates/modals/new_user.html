{% load i18n %}
{% load static %}

<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>

<div class="modal fade" id="new_user" data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="new_userLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h4 class="modal-title text-primary w-100 fw-bold text-center" id="new_userLabel">
          {% translate "Nouveau Parcours" %}
        </h4>
      </div>
      <div class="modal-body m-3 border-3">
        {% include "modals/confidentiality_alert.html" %}
        <p>
          {% translate "Voici votre ID:" %}
        </p>
        <p class="font-monospace text-center text-nowrap">
          ce053a70-5baf-419d-8976-757c59746081
        </p>

        <a
          class="btn border border-primary rounded d-flex align-items-center text-start"
          role="button"
          onClick="copyToClipboard()"
        >
          <i class="bi bi-clipboard-plus text-primary fs-3"></i>
          <span class="d-inline flex-grow-1 px-3">{% translate "Copier l’ID dans le presse-papier" %}</span>
        </a>
        <div class="py-3">
          <a
            class="btn border border-primary rounded d-flex align-items-center text-start"
            role="button"
            onClick="downloadTextFile()"
          >
            <i class="bi bi-download text-primary fs-3"></i>
            <span class="d-inline flex-grow-1 px-3">{% translate "Télécharger un fichier TXT avec votre ID" %}</span>
          </a>
        </div>
        <a
          class="btn border border-primary rounded d-flex align-items-center text-start"
          role="button"
          onClick="downloadQRcode()"
        >
          <i class="bi bi-qr-code-scan text-primary fs-3"></i>
          <span class="d-inline flex-grow-1 px-3">{% translate "Télécharger le QR code" %}</span>
        </a>
        {% include "modals/save_uuid_alert.html" %}
        <div class="text-center">
          <a id="id-management-validation" class="btn btn-lg btn-primary text-white disabled" href="{% url 'dashboard' %}" role="button">
            {% translate "J’ai mon ID et je commence" %}
          </a>
        </div>
      </div>
    </div>

    <div id="id-qrcode" class="d-none"/>
  </div>
</div>

<script src='{% static "js/id_management.js" %}'></script>