{% extends 'main.html' %}
{% load i18n %}
{% load static %}

{% block bootstrap5_extra_head %}
{{ block.super}}
<script src='{% static "npm_components/chart.js/dist/chart.umd.js" %}'></script>
<script src='{% static "js/dashboard.js" %}'></script>
{% endblock %}

{% block content_area %}
<h5 class="text-primary pb-2"> {% translate "Hello, welcome back!" %}</h5>
<div class="d-flex d-sm-none">
  <a class="btn btn-lg btn-primary text-white w-100" href="{% url 'course' %}" role="button">
    {% translate "Commencer lâ€™histoire" %}
  </a>
</div>
<div class="row row-cols-auto row-cols-sm-2 g-5">
  <div class="col">
    <h4>{% translate "Mes cours" %}</h4>
    <div class="row row-cols-1 row-cols-sm-2">
      {% for level in levels %}
      <div class="col py-1">
        <div
          class="bg-primary shadow rounded-4 border-0 mb-3">
          <div class="row row-cols-2 p-3">
            <div class="col pe-0">
              <h5 class="text-white fw-semibold m-0">{% translate "Niveau" %} {{ level.index }}</h5>
              <p class="text-white mb-1 fw-lighter">{{ level.name }}</p>
              <div class="w-50 position-relative">
                <div class="ratio ratio-1x1 ">
                  <canvas class="my-auto" id="progress{{level.index}}"></canvas>
                </div>
                <span class="text-white position-absolute top-50 start-50 translate-middle mt-1">{{ level.progress }}</span>
              </div>
            </div>
            <div class="col m-auto">
              <img src="{% static 'media/images/img-level-'%}{{level.index}}.svg" alt="Compliance officer on phone"
                class="w-100" />
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="row">
      <h4> {% translate "Connaissances" %}</h4>
      <canvas id="dashboard" height="270"></canvas>
    </div>
  </div>
  <div class="col">
    <h4>{% translate "Stickers" %}</h4>
    {% for level in levels %}
    <div class="row row-cols-2 row-cols-sm-4">
      {% for sticker in '0123'|make_list %}
      <div class="col p-2">
        <div class=" shadow rounded-4">
          <img src="{% static 'media/images/sticker-'%}{{level.index}}-{{sticker}}.svg" alt="Sticker" class="w-100" />
        </div>
      </div>

      {% endfor %}
    </div>
    {% endfor %}
  </div>
  {% endblock %}
